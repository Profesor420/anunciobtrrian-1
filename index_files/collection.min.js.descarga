var ZBRangeSlider=function(e){var n=this,r=0,o=0,i=document.getElementById(e),a=i.querySelector(".range-slider__touch--left"),s=i.querySelector(".range-slider__touch--right"),u=i.querySelector(".range-slider__line span"),c=parseFloat(i.getAttribute("se-min")),l=parseFloat(i.getAttribute("se-max")),e=c,t=(i.hasAttribute("se-min-value")&&(e=parseFloat(i.getAttribute("se-min-value"))),l),d=(i.hasAttribute("se-max-value")&&(t=parseFloat(i.getAttribute("se-max-value"))),(t=l<t?l:t)<(e=e<c?c:e)&&(e=t),0),f=(i.getAttribute("se-step")&&(d=Math.abs(parseFloat(i.getAttribute("se-step")))),4),m=(n.slider=i,n.reset=function(){a.style.left="0px",s.style.left=i.offsetWidth-a.offsetWidth+"px",u.style.marginLeft="0px",u.style.width=i.offsetWidth-a.offsetWidth+"px",o=r=0},n.setMinValue=function(e){a.style.left=Math.ceil((e-c)/(l-c)*(i.offsetWidth-(a.offsetWidth+f)))+"px",u.style.marginLeft=a.offsetLeft+"px",u.style.width=s.offsetLeft-a.offsetLeft+"px",i.setAttribute("se-min-value",e)},n.setMaxValue=function(e){s.style.left=Math.ceil((e-c)/(l-c)*(i.offsetWidth-(a.offsetWidth+f))+f)+"px",u.style.marginLeft=a.offsetLeft+"px",u.style.width=s.offsetLeft-a.offsetLeft+"px",i.setAttribute("se-max-value",e)},n.reset(),i.offsetWidth-s.offsetWidth),h=null,g=u.offsetWidth-f;function v(e){e.preventDefault();var t=e;e.touches&&(t=e.touches[0]),o=(this===a?a:s).offsetLeft,r=t.pageX-o,h=this,document.addEventListener("mousemove",p),document.addEventListener("mouseup",y),document.addEventListener("touchmove",p),document.addEventListener("touchend",y)}function p(e){var t=e;e.touches&&(t=e.touches[0]),o=t.pageX-r,h===a?(o>s.offsetLeft-h.offsetWidth+10?o=s.offsetLeft-h.offsetWidth+10:o<0&&(o=0),h.style.left=o+"px"):h===s&&(o<a.offsetLeft+a.offsetWidth-10?o=a.offsetLeft+a.offsetWidth-10:m<o&&(o=m),h.style.left=o+"px"),u.style.marginLeft=a.offsetLeft+"px",u.style.width=s.offsetLeft-a.offsetLeft+"px",L(),i.getAttribute("on-change")&&new Function("min, max",i.getAttribute("on-change"))(i.getAttribute("se-min-value"),i.getAttribute("se-max-value")),n.onChange&&n.onChange(i.getAttribute("se-min-value"),i.getAttribute("se-max-value"))}function y(e){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",y),h=null,L(),i.getAttribute("did-changed")&&new Function("min, max",i.getAttribute("did-changed"))(i.getAttribute("se-min-value"),i.getAttribute("se-max-value")),n.didChanged&&n.didChanged(i.getAttribute("se-min-value"),i.getAttribute("se-max-value"))}function L(){var e,t=(u.offsetWidth-f)/g,t=(n=u.offsetLeft/g)+t,n=n*(l-c)+c,t=t*(l-c)+c;0!==d&&(e=Math.floor(n/d),n=d*e,e=Math.floor(t/d),t=d*e),i.setAttribute("se-min-value",n),i.setAttribute("se-max-value",t)}n.setMinValue(e),n.setMaxValue(t),a.addEventListener("mousedown",v),s.addEventListener("mousedown",v),a.addEventListener("touchstart",v),s.addEventListener("touchstart",v)};let setInnerHTML=function(e,t){e.innerHTML=t,Array.from(e.querySelectorAll("script")).forEach(e=>{const t=document.createElement("script");Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})},reloadProducts=function(e){e=new FormData(e),e=new URLSearchParams(e).toString(),e="".concat(window.location.pathname,"?").concat(e);history.replaceState&&window.history.pushState({path:e},"",e);try{fetch(e).then(function(e){e.text().then(function(e){var t=document.createElement("div");t.innerHTML=e,setInnerHTML(document.querySelector("#CollectionInner__Products"),t.querySelector("#CollectionInner__Products").innerHTML),document.querySelector("#facets__current-items--pair span").innerHTML=t.querySelector("#facets__current-items").innerHTML})})}catch(e){}};window.addEventListener("load",function(){var e=document.querySelectorAll('[name^="filter."]'),e=(document.querySelector("#SortByFromHeading").value=document.querySelector("#SortBy").value,[].forEach.call(e,function(e){e.addEventListener("change",function(e){return reloadProducts(e.target.closest("form")),window.location.reload(),!1})}),document.querySelector("#SortBy").addEventListener("change",function(e){return reloadProducts(e.target.closest("form")),window.location.reload(),!1}),document.querySelector("#SortByFromHeading").addEventListener("change",function(e){document.querySelector("#SortBy").value=this.value,document.querySelector("#SortBy").dispatchEvent(new Event("change"))}),document.querySelector("#facets__current-items--pair span").innerHTML=document.querySelector("#facets__current-items").innerHTML,new ZBRangeSlider("price-slider"));e.onChange=function(e,t){document.getElementById("range-slider__result--min").innerHTML=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),document.getElementById("range-slider__result--max").innerHTML=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.didChanged=function(e,t){document.querySelector('[name="filter.v.price.gte"]').value=e,document.querySelector('[name="filter.v.price.lte"]').value=t,document.querySelector('[name="filter.v.price.lte"]').dispatchEvent(new Event("change"))},triggerFilterElements=document.querySelectorAll(".toggle-filter-sidebar"),Array.from(triggerFilterElements).forEach(e=>{e.addEventListener("click",function(e){document.querySelector("#main-collection-filters").classList.toggle("plp__sidebar--active")})})});